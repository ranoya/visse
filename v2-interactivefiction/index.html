<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="pinterest" content="nopin" />
    <meta name="pinterest" content="nohover" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="keywords" content="" />
    <title>Interactive Fiction</title>
    <meta property="og:title" content="Interactive Fiction" />
    <meta name="generator" content="artesanal" />
    <meta
      name="description"
      content="Mapeamento de artefatos de Interactive Fiction, organizado pelo Laboratório de Visualização e Sentidos do Nordeste"
    />
    <meta
      property="og:description"
      content="Mapeamento de artefatos de Interactive Fiction, organizado pelo Laboratório de Visualização e Sentidos do Nordeste"
    />
    <meta name="author" content="Guilherme Ranoya" />
    <meta property="og:url" content="https://visse.vercel.app" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:image:width" content="600" />
    <meta property="og:image:height" content="600" />
    <meta
      property="og:site_name"
      content="Laboratório de Visualização e Sentidos"
    />
    <meta
      name="application-name"
      content="Laboratório de Visualização e Sentidos"
    />
    <meta property="og:image:type" content="image/jpeg" />
    <meta
      property="og:image"
      content="https://drive.google.com/uc?export=view&id=11IeV3PaxJtJz2hmLxI-LN3zeIVPzwNHt"
    />
    <meta
      property="og:image:secure_url"
      content="https://drive.google.com/uc?export=view&id=11IeV3PaxJtJz2hmLxI-LN3zeIVPzwNHt"
    />
    <link
      rel="image_src"
      type="image/jpg"
      href="https://drive.google.com/uc?export=view&id=11IeV3PaxJtJz2hmLxI-LN3zeIVPzwNHt"
    />
    <link
      rel="icon"
      type="image/png"
      href="https://drive.google.com/uc?export=view&id=11Gf-Q3wqLBVlrYQ3h1sBqNJkA33URY4L"
    />
  </head>

  <body>
    <div id="recursos">
      <div id="filtros"></div>
      <br />

      <div id="botoes"></div>

      <br />
    </div>
    <div id="wrap">
      <div id="titulo"></div>
      <div id="criterios"></div>
      <div id="estatisticas" style="clear: both"></div>
      <div id="catalogo">
        <span class="loader"></span>
      </div>
    </div>

    <div id="shadowfiltro" style="overflow: hidden; width: 0; height: 0"></div>

    <div id="estaile"></div>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@observablehq/inspector@5/dist/inspector.css"
    />
    <script type="module">
      import {
        Runtime,
        Inspector,
      } from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@5/dist/runtime.js";
      import define from "https://api.observablehq.com/@ranoya/interactivefiction.js?v=4";
      new Runtime().module(define, (name) => {
        if (name === "titulo")
          return new Inspector(document.querySelector("#titulo"));
        if (name === "botoes")
          return new Inspector(document.querySelector("#botoes"));
        if (name === "viewof filtros")
          return new Inspector(document.querySelector("#filtros"));
        if (name === "viewof shadow")
          return new Inspector(document.querySelector("#shadowfiltro"));
        if (name === "style")
          return new Inspector(document.querySelector("#estaile"));
        if (name === "mostra")
          return new Inspector(document.querySelector("#catalogo"));
      });
    </script>

    <style>
      :root {
        --base-color: #8f998a;
        --cor-text: #ffffff;
        --cor-bg: #ffffff;
        --cor-fg: #000000;
        --borrao-visivel: none;
        --sombra-componente: color-mix(
          in oklab,
          var(--cor-fg, #000000) 40%,
          transparent 100%
        );

        --bg-componente: color-mix(
          in oklab,
          var(--cor-fg, #000000) 70%,
          transparent 20%
        );

        --bg-highlight: var(--cor-fg, #000000);
      }

      #recursos {
        color: #6b6b6b;
        font-family: "Homenaje", sans-serif;
        font-size: 22px;
        line-height: 32px;
        position: fixed;
        top: 70px;
        left: 20px;
        border: 0;
        /* border: 1px solid white; */
        width: 320px;
        height: calc(100vh - 120px);
        text-align: right;
        z-index: 1;
      }

      #recursos input {
        font-size: 18px;
        line-height: 24px;
        padding: 8px;
        border: 0;
        border: 1px solid transparent;
        border-bottom: 1px dashed #00000033;
        background-color: transparent;
        outline: 0;
        color: #00000033;
        font-family: "Homenaje", sans-serif;
        margin-right: 12px;
      }

      #recursos input::placeholder {
        color: #0000001f !important;
      }

      #recursos input:focus {
        border: 1px dotted #6b6b6b !important;
        color: #6b6b6b;
      }

      .fit {
        margin-bottom: 0 !important;
        margin-top: 0 !important;
      }

      html {
        background-color: var(--base-color, #8f998a);
      }
      body {
        margin: 40px;
        margin-right: 60px;
        margin-bottom: 80px;
        background-color: var(--base-color, #8f998a);
      }

      #wrap {
        background-color: var(--cor-bg, #ffffff);
        position: fixed;
        width: calc(100vw - 80px);
        overflow-y: auto;
        height: calc(100dvh - 80px);
        scrollbar-gutter: stable;
        top: 0;
        left: 0;
        padding: 40px;
        z-index: 2;
        box-shadow: 3px 3px 12px 1px #444444bf;
        transition: all 0.6s ease-in-out;
      }

      .borrao {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 60% !important;
        height: calc(100vh - 140px) !important;
        transition: all 0.6s ease-in-out;
      }

      .stage {
        width: calc(100% - 40px);
        height: calc(100% - 70px);
      }

      /*
      #filtros {
        float: left;
        width: 300px;
        text-align: left;
      }

      #filtros input {
        border-bottom: 1px dashed #ffffffff;
        width: 300px;
        font-size: 22px;
        margin-bottom: 10px;
        line-height: 32px;
        padding: 4px;
        padding-left: 12px;
        padding-right: 12px;
      }

      #filtros input:focus {
        border-bottom: 1px dotted #ffffffff;
        outline: transparent;
      }
      
      */

      * {
        padding: 0;
        margin: 0;
        border: 0;
        text-decoration: none;
        transition: all 0.2s ease-in;
        font-family: "Homenaje", sans-serif;
        font-weight: 400;
        font-style: normal;
      }

      #titulo {
        font-size: 36px;
        margin-bottom: 40px;
        color: var(--cor-fg, #ffffff);
        width: calc(100% - 380px);
        float: right;
        text-align: right;
      }

      #recursos .custombutton {
        padding: 8px;
        padding-top: 5px;
        padding-bottom: 5px;
        display: inline-block;
        margin-right: 5px;
        margin-bottom: 7px;
        background-color: #6b6b6b;
        color: white;
        border: 3px solid #6b6b6b;
        transition: transform 0.3s ease-out;
        font-family: "Homenaje", sans-serif;
        font-size: 16px;
        line-height: 18px;
        cursor: pointer;
        box-shadow: 3px 3px 8px -2px #00000044;
      }

      #recursos .custombutton:hover {
        color: #6b6b6b;
        border: 3px solid white;
        background-color: white;
        transition: transform 0.3s ease-out;
        cursor: pointer;
        box-shadow: 0px 0px 8px -2px #00000044;
        transform: translate(2px, 2px);
      }

      #botoes {
        width: 315px;
        text-align: right;
      }

      .buttonspecial {
        background-color: #ffffff88;
        border: 3px solid #ffffff00;
      }

      .buttonspecial:hover {
        background-color: #ffffffff;
        border: 3px solid #ffffffff;
      }

      .subcustombutton {
        display: inline-block;
        font-size: 16px;
        line-height: 26px;
        height: 26px;
        border: 3px solid #ffffff00;
        padding-left: 10px;
        padding-right: 10px;
        background-color: #ffffff44;
        cursor: pointer;
        margin-right: 6px;
        color: #555555;
        font-weight: lighter;
        margin-top: 4px;
        padding-top: 3px;
        padding-bottom: 3px;
        font-family: "Open Sans";
      }

      .subcustombutton:hover {
        background-color: #ffffffff;
        border: 3px solid #ffffffff;
      }

      #wrap::-webkit-scrollbar {
        width: 30px;
      }

      #wrap::-webkit-scrollbar-thumb {
        border-right: 8px solid
          color-mix(
            in oklab,
            var(--cor-fg, #ffffff) 60%,
            var(--cor-bg, #000000) 40%
          );
      }

      #wrap::-webkit-scrollbar-thumb:hover {
        border-right: 8px solid var(--cor-fg, #ffffff);
      }

      #wrap::-webkit-scrollbar-corner {
        background-color: var(--cor-bg);
      }

      .zoomout {
        width: calc(100% - 460px) !important;
        left: 320px !important;
        top: 40px !important;
        height: calc(100dvh - 180px) !important;
        transition: all 0.6s ease-in-out;
      }

      .borraozoomout {
        width: calc(60% - 380px) !important;
        height: calc(100dvh - 240px) !important;
        left: 320px !important;
        top: 40px !important;
        transition: all 0.6s ease-in-out;
      }

      .botaoemulador:hover svg rect {
        fill: var(--base-color) !important;
      }

      .botaoemulador:hover svg path {
        fill: black !important;
      }
    </style>

    <script>
      let removeall = function () {
        document.documentElement.style.setProperty("--borrao-visivel", "none");
        document.getElementsByClassName("stage")[0].innerHTML = "";
      };
      // FUNÇÃO URL GET
      // urlGet('xpto'); www.site.com/?xpto=teste
      // let data = $_GET['xpto']; www.site.com/?xpto=teste

      $_GET = [];
      (function () {
        corte = window.location.href.toString().indexOf("?");
        if (corte > 0) {
          argumento = window.location.href.toString().substring(corte + 1);
          argumentos = argumento.split("&");
          for (arg in argumentos) {
            let argCorte = argumentos[arg].indexOf("=");
            $_GET[argumentos[arg].substring(0, argCorte)] = argumentos[
              arg
            ].substring(argCorte + 1);
          }
        }
      })();

      if (
        $_GET["filtra"] != "" &&
        typeof $_GET["filtra"] != "undefined" &&
        $_GET["filtra"] != null
      ) {
        temporiza = setInterval(function () {
          if (typeof document.getElementsByTagName("input")[0] != "undefined") {
            document.getElementsByTagName("input")[0].value =
              " " + decodeURI($_GET["filtra"]);
            document.getElementsByTagName("input")[0].dispatchEvent(
              new Event("input", {
                bubbles: true,
              })
            );

            clearInterval(temporiza);
          }
        }, 100);
      }

      if (
        $_GET["filtra"] != "" &&
        typeof $_GET["filtra"] != "undefined" &&
        $_GET["filtra"] != null
      ) {
        let temporiza = setInterval(function () {
          if (typeof document.getElementsByTagName("input")[0] != "undefined") {
            document.getElementsByTagName("input")[0].value = decodeURI(
              $_GET["filtra"]
            );
            document.getElementsByTagName("input")[0].dispatchEvent(
              new Event("input", {
                bubbles: true,
              })
            );

            clearInterval(temporiza);
          }
        }, 100);
      }

      if (
        $_GET["shadow"] != "" &&
        typeof $_GET["shadow"] != "undefined" &&
        $_GET["shadow"] != null
      ) {
        let temporiza3 = setInterval(function () {
          if (typeof document.getElementsByTagName("input")[1] != "undefined") {
            document.getElementsByTagName("input")[1].value = decodeURI(
              $_GET["shadow"]
            );
            document.getElementsByTagName("input")[1].dispatchEvent(
              new Event("input", {
                bubbles: true,
              })
            );

            clearInterval(temporiza3);
          }
        }, 100);
      }

      if (
        $_GET["titulo"] != "" &&
        typeof $_GET["titulo"] != "undefined" &&
        $_GET["titulo"] != null
      ) {
        let temporiza2 = setInterval(function () {
          if (
            typeof document.getElementById("titulo").innerHTML != "undefined" &&
            document.getElementById("titulo").innerHTML != null &&
            document.getElementById("titulo").innerHTML != ""
          ) {
            document.getElementById("titulo").innerHTML = decodeURI(
              $_GET["titulo"]
            );
            clearInterval(temporiza2);
          }
        }, 100);
      }

      if (
        typeof $_GET["bg"] != "undefined" &&
        $_GET["bg"] != null &&
        $_GET["bg"] != ""
      ) {
        document.documentElement.style.setProperty(
          "--cor-bg",
          "#" + $_GET["bg"]
        );
        document.documentElement.style.setProperty(
          "--cor-text",
          "#" + $_GET["bg"]
        );
      }

      if (
        typeof $_GET["fg"] != "undefined" &&
        $_GET["fg"] != null &&
        $_GET["fg"] != ""
      ) {
        document.documentElement.style.setProperty(
          "--cor-fg",
          "#" + $_GET["fg"]
        );
      }

      if (
        typeof $_GET["contentonly"] != "undefined" &&
        $_GET["contentonly"] != null &&
        $_GET["contentonly"] != ""
      ) {
        document.getElementsByTagName("body")[0].classList.add("fit");
      }

      let showup = function (u, r) {
        if (r != "") {
          document.getElementsByClassName("stage")[0].innerHTML = `
            <iframe frameborder=0 src="${u}" style='height: 100%; width: 100%;'></iframe>
            <a class="botaoemulador" style="width: 60px; height: 60px; margin-left: 20px;" target="_blank" href="${r}">
                <svg style="width: 60px; aspect-ratio: 1/1;" viewBox="0 0 1566 1566" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="1566" height="1566" fill="#000000"/>
                <path d="M456 968V718H506V668H556V618H706V668H756V718H806V968H706V868H556V968H456ZM556 818H706V718H656V668H606V718H556V818Z"                  fill="#ffffff"/>
                <path d="M906 968V918H956V868H1006V818H1056V768H1006V718H956V668H906V618H1006V668H1056V718H1106V768H1156V818H1106V868H1056V918H1006V968H906Z"       fill="#ffffff"/>
                </svg>
            </a>
          `;
          document.documentElement.style.setProperty(
            "--borrao-visivel",
            "flex"
          );
        } else {
          document.getElementsByClassName("stage")[0].innerHTML = `
            <iframe frameborder=0 src="${u}" style='height: 100%; width: 100%;'></iframe>
          `;
          document.documentElement.style.setProperty(
            "--borrao-visivel",
            "flex"
          );
        }
      };

      let hsl2hex = function (h, s, l) {
        l /= 100;
        const a = (s * Math.min(l, 1 - l)) / 100;
        const f = (n) => {
          const k = (n + h / 30) % 12;
          const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
          return Math.round(255 * color)
            .toString(16)
            .padStart(2, "0"); // convert to Hex and prefix "0" if needed
        };
        return `#${f(0)}${f(8)}${f(4)}`;
      };

      let h = 0;
      //let h2 = h + 180;
      //let hf = 0;

      setInterval(function () {
        document
          .querySelector(":root")
          .style.setProperty("--base-color", hsl2hex(h, 46, 87));

        /*
        document
          .querySelector(":root")
          .style.setProperty("--base-dark", hsl2hex(h, 46, 44));

        document
          .querySelector(":root")
          .style.setProperty("--rebase-color", hsl2hex(h2, 46, 87));

        document
          .querySelector(":root")
          .style.setProperty("--high-freq", hsl2hex(hf, 46, 87));

        document
          .querySelector(":root")
          .style.setProperty("--high-freq-dark", hsl2hex(hf, 46, 44));
        */

        h++;
        //h2 += 5;
        //hf += 7;

        if (h > 360) {
          h = 0;
        }

        /*
        if (h2 > 360) {
          h2 = 0;
        }

        if (hf > 360) {
          hf = 0;
        }
        */
      }, 10);

      let abrefecha = "";

      let zmo = false;

      let fechazoom = function () {
        if (zmo) {
          togglezoom();
        }
      };

      let stall = function (event) {
        clearTimeout(abrefecha);
      };

      let retoma = function (event) {
        abrefecha = setTimeout(fechazoom, 2500);
      };

      let lidacomtecla = function (event) {
        clearTimeout(abrefecha);

        document.getElementsByTagName("input")[0].focus();
        if (!zmo) {
          togglezoom();
        }
        abrefecha = setTimeout(fechazoom, 2500);
      };

      let togglezoom = function () {
        if (!zmo) {
          zmo = true;
          document.getElementById("wrap").classList.add("zoomout");
          document
            .getElementsByClassName("borrao")[0]
            .classList.add("borraozoomout");
        } else {
          zmo = false;
          document.getElementById("wrap").classList.remove("zoomout");
          document
            .getElementsByClassName("borrao")[0]
            .classList.remove("borraozoomout");
        }
      };

      document.addEventListener("keydown", lidacomtecla);
    </script>
  </body>
</html>
